<div class="basic__container">
    <form action="/registro" method="POST" class="basic__element principal__font">
        <h1 class="principal__font">Registro</h1>
        <img src="assets/avatars/1.png" id="perfilImg" class="basic__profile_image" alt="Imagem de Perfil">
        <select class="principal__font" name="profilePicture" id="selectPerfil">
            <option value="assets/avatars/1.png">Selecione uma opção</option>
        </select>
        <input class="principal__font" name="nickName" type="text" placeholder="nickname">
        <input class="principal__font" type="password" name="password" placeholder="password">
        <button class="principal__font" type="submit">CRIAR</button>
        <a href="/home">Voltar</a>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var select = document.getElementById("selectPerfil");
        var optionTemplate = '<option value="assets/avatars/{index}.png">Avatar {index}</option>';

        for (var i = 1; i <= 17; i++) { 
            var option = optionTemplate.replace(/{index}/g, i);
            select.insertAdjacentHTML("beforeend", option);
        }
    });

    document.addEventListener("DOMContentLoaded", function () {
        var select = document.getElementById("selectPerfil");
        var perfilImg = document.getElementById('perfilImg');
        
        perfilImg.src = select.value;

        select.addEventListener('change', function () {
            perfilImg.src = this.value;
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        const savedTheme = localStorage.getItem('selectedTheme');
        if (savedTheme) {
            const theme = JSON.parse(savedTheme);
            applyTheme(theme);
        }
    });

    function applyTheme(theme) {
        for (const style in theme) {
            document.documentElement.style.setProperty(style, theme[style]);
        }
    }
</script>
